{"shortInfo":{"layout":"post","title":"gittalk的使用示例","date":"2022-02-23T12:38:00.000Z","cover":"/self_server/assets/images/gittalk.png","coverWidth":1430,"coverHeight":577,"tags":["笔记","gitalk"],"hideAtIndex":true,"categories":"前端","id":16,"countWords":187,"readSeconds":18.7,"assetsbaseUrl":"/self_server/assets/"},"content":"## GitTalk 提示错误Error: Validation Failed. \r\n* 原因：提交的id过长（超出50）\r\n* 解决办法：使用id: decodeURI(location.href)\r\n\r\n## GitHub issue内容出现UTF-8编码的中文的解决\r\n* body: decodeURI(window.location.pathname)\r\n\r\n## 获取页面内容的简短描述（不好用）\r\n* document.getElementsByTagName(\"meta\")[\"description\"].content\r\n\r\n## 示例代码\r\n```\r\n//存放gitalk的div\r\n<div id=\"gitalk\"></div>\r\n\r\n//实例化\r\n<script type=\"text/javascript\">\r\n    var gitalk = new Gitalk({\r\n        clientID: \"必填\",\r\n        clientSecret: \"必填\",\r\n        repo: \"必填\",\r\n        owner: \"必填\",\r\n        admin: \"必填\",\r\n        \r\n        id: decodeURI(location.href),//页面的唯一标识。长度必须小于50。location.href是不包含域名的URL\r\n        title: document.title,//GitHub issue标题。\r\n        body: decodeURI(window.location.pathname),//GitHub issue内容 = 文章完整URL地址\r\n\r\n        pagerDirection: ,//评论排序方式\r\n        createIssueManually: ,//admin用户手动创建issue\r\n    })\r\n    gitalk.render('gitalk') //渲染到指定的id中\r\n</script>\r\n```"}