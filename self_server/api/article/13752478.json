{"shortInfo":{"title":"nginx实现反向代理并启用ssl的最简配置","date":"2022-08-23T09:36:00.000Z","cover":"\\self_server\\assets\\images\\default_cover2.jpg","tags":["nginx","反向代理"],"hideAtIndex":true,"categories":"笔记","id":13752478,"countWords":159,"readSeconds":15.9,"assetsbaseUrl":"/self_server/assets/"},"content":"# nginx实现反向代理并启用ssl的最简配置\r\n\r\n```confg\r\nserver {\r\n    listen       8082; \r\n    server_name  localhost;\r\n\r\n    #启用ssl\r\n    ssl on;\r\n    #ssl证书\r\n    ssl_certificate  /home/dyg/.ssl/cert.crt;\r\n    #ssl证书私钥\r\n    ssl_certificate_key /home/dyg/.ssl/cert-key.key;\r\n\r\n    location / {\r\n        #反向代理\r\n        proxy_pass http://localhost:8081;\r\n        #默认页面\r\n        index  index.html index.htm;\r\n    }\r\n}\r\n```\r\n\r\n# 将http请求转成https\r\n**案例:将http:80请求转成https:443**\r\n**仅适用于默认端口**\r\n```confg\r\nserver {\r\n    listen       443; \r\n    server_name  localhost;\r\n\r\n    #启用ssl\r\n    ssl on;\r\n    #ssl证书\r\n    ssl_certificate  /home/dyg/.ssl/cert.crt;\r\n    #ssl证书私钥\r\n    ssl_certificate_key /home/dyg/.ssl/cert-key.key;\r\n\r\n    location / {\r\n        #反向代理\r\n        proxy_pass http://localhost:8081;\r\n        #默认页面\r\n        index  index.html index.htm;\r\n    }\r\n}\r\nserver {\r\n    listen 80;\r\n    server_name localhost;\r\n    #将http请求转成https\r\n    rewrite ^(.*)$ https://$host$1 permanent;\r\n}\r\n```"}