{"shortInfo":{"title":"移动适配","date":"2022-06-20T22:35:00.000Z","cover":"\\self_server\\assets\\images\\default_cover2.jpg","tags":["移动适配","CSS","前端"],"hideAtIndex":true,"categories":"笔记","id":92,"countWords":908,"readSeconds":90.8,"assetsbaseUrl":"/self_server/assets/"},"content":"# 移动适配\r\n\r\n## 目录\r\n- [移动适配](#移动适配)\r\n  - [目录](#目录)\r\n  - [概述](#概述)\r\n  - [rem](#rem)\r\n    - [媒体查询](#媒体查询)\r\n    - [根标签字号的取值](#根标签字号的取值)\r\n    - [元素宽高取值的确定](#元素宽高取值的确定)\r\n    - [使用步骤](#使用步骤)\r\n    - [flexiblejs适配所有移动端视口宽度的解决方案](#flexiblejs适配所有移动端视口宽度的解决方案)\r\n  - [vwvh](#vwvh)\r\n    - [计算示例](#计算示例)\r\n    - [元素宽高取值的确定](#元素宽高取值的确定-1)\r\n\r\n\r\n## 概述\r\n传统的像素单位和百分比布局都存在一定的问题，像素单位会把元素的尺寸写死，在pc端多少像素，移动端也是多少像素，百分比布局虽然可以根据设备屏幕的宽度实现宽度的自适应，但是其高度仍然必须指定一个像素，不能做到同时自适应改变宽和高以适配不同机型的屏幕  \r\n\r\n**移动适配就是让网页根据不同机型的屏幕宽度，自适应的改变网页中元素的宽高、边距、字号大小**\r\n\r\n![](./images/移动适配/2022-06-21-06-42-08.png)\r\n\r\n* 两种解决方案\r\n    * `rem`:目前多数企业(小米)在使用的解决方法\r\n    * `vw/vh`:未来的解决方案,大厂(bilibili、天猫)已经开始使用\r\n\r\n## rem\r\n* rem是一个相对单位\r\n* rem是相对于根标签(HTML标签)的字号计算的\r\n* 1rem=1HTML字号大小\r\n\r\n\r\n\r\n### 媒体查询\r\n* 媒体查询能够检测视口的宽度，然后编写差异化的css样式\r\n* 写法\r\n    ```css\r\n    @media (媒体特征){\r\n        选择器{\r\n            css属性;\r\n        }\r\n    }\r\n    ```\r\n\r\n### 根标签字号的取值\r\n实现移动适配的关键在于如何给根标签的字号取一个合适的值,要实现这一点需要用到的技术就是**媒体查询**\r\n目前rem布局方案中，根标签的字号一般取视口宽度的$\\frac{1}{10}$\r\n* 示例\r\n    ```css\r\n    @media (width:414px){\r\n        html{\r\n            font-size:41.4px;\r\n        }\r\n    }\r\n    @media (width:375px){\r\n        html{\r\n            font-size:37.5px;\r\n        }\r\n    }\r\n    ```\r\n\r\n### 元素宽高取值的确定\r\n假设设计稿是根据iPhone6/7/8的视口宽度365px设计的，第一步应该是计算并设置根标签的字号大小`html{font-size:36.5px;}`,然后假设测量某元素的宽高是63px，42px，那么其宽就应该是$\\frac{63}{36.5}=1.726rem$;高就应该是$\\frac{42}{36.5}=1.150rem$;\r\n\r\n* 宽高的自动计算可以使用less插件\r\n\r\n### 使用步骤\r\n* 先给html标签设置字号\r\n    ```css\r\n    @media (width:375px){\r\n        html{\r\n            font-size:37.5px;\r\n        }\r\n    }\r\n    @media (width:414px){\r\n        html{\r\n            font-size:41.4px;\r\n        }\r\n    }\r\n    @media (width:375px){\r\n        html{\r\n            font-size:37.5px;\r\n        }\r\n    }\r\n    ```\r\n* 盒子宽高使用为rem单位\r\n    ```css\r\n    .box{\r\n        width:5rem;\r\n        height:5rem;\r\n        background-color:green;\r\n    }\r\n    ```\r\n\r\n### flexiblejs适配所有移动端视口宽度的解决方案\r\n* **flexible.js**是手机淘宝开发出的解决方案\r\n* 原理就是根据不同的视口宽度自动修改根标签字号大小\r\n* 一般把这个js放在body的结束标签位置之前\r\n\r\n\r\n\r\n## vwvh\r\n* vw/vh是一个相对单位\r\n* 相对视口的尺寸计算\r\n* **vw(viewport width)** **1vw=$\\frac{1}{100}$视口宽度**\r\n* **vh(viewport height)** **1vh=$\\frac{1}{100}$视口高度**\r\n* 一般对一个盒子，指定其宽高时，不同时使用vm vh单位，否则根据竖屏设计的网页，到了宽屏就会比例失调\r\n  \r\n### 计算示例\r\n### 元素宽高取值的确定\r\n假设设计稿是根据iPhone6/7/8的视口宽度365px设计的，假设测量某元素的宽高是63px，42px，那么其宽就应该是`63/3.65vw` 高就应该是`42/3.65vw`"}