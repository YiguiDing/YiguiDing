---
layout: post
title: "记录本网站的搭建过程"
subtitle: 第一篇技术博客
date: 2021-12-27 21:45:00 +0800
image: 笔记.jpg
tags: [技术博客,网站搭建]
categories: 笔记
---
# 本网站搭建
### 一、创建github仓库
1. 仓库名前缀要和GitHub用户名同名，不区分大小写。
    >用户名如为:YiguiDing,仓库名则为：YiguiDing.github.io
2. 该仓库需为公开仓库。

### 二、本地仓库的初始化和提交到远程仓库
0. 下载安装git。`略`
   + git配置过程省略
1. 使用git命令初始化本地仓库`git init`
2. 或使用克隆命令直接克隆本网站`git clone https://github.com/YiguiDing/YiguiDing.github.io.git`
3. 为远程仓库添加别名 `git remote add origin https://github.com/你的用户名/你的仓库名.git`
4. 将本地仓库提交到你的GitHub `git push origin master`

### 三、本地测试环境的搭建与测试
* 在win10中安装`Ubuntu20.04 LTS`子系统
    + 若干步骤省略
* 安装ruby2.7和ruby2.7-dev
    + `apt search ruby2.7`
    + `apt install ruby2.7 ruby2.7-dev`
    + 这里用2.7是为了和github保持一致,详情查看[GitHub PagesDependency versions](https://pages.github.com/versions/)
* 用ruby的gem安装bundler
	+ `gem install bundler`
* 创建Gemfile文件安装jekyll3.9
    + 
        ```shell
        cat >Gemfile<<"EOF"
        source "https://rubygems.org"
        gem "jekyll", "~> 3.9.0"
        EOF
        ```
    + `apt install make gcc` //没有这一步下一步会报错
    + `bundler install`
* 网站所需运行环境，即/YiguiDing.github.io/Gemfile中所描述依赖
    + `cd YiguiDing.github.io`
    + `apt install g++`     //下一步的编译安装过程中需要用到g++
    + `bundler install`
* 本机访问
  * `bundle exec jekyll serve -w --host=127.0.0.1 --livereload --port=80`
  * 其中
    * `--livereload`表示动态加载页面，即当页面文件改动后，静态页面将会重新生成
    * `--host=127.0.0.1`表示指定ip地址，此时为仅本机访问，若要局域网内部访问，则指定为`--host=0.0.0.0`或`--host=本机局域网Ip`
    * `--port=80`表示指定端口，默认为4000