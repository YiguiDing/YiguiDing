import{_ as i,c as s,o as t,b as e}from"./app-BDDbQE14.js";const n={},a=e(`<h1 id="使用letsencrypt自动更新https证书" tabindex="-1"><a class="header-anchor" href="#使用letsencrypt自动更新https证书"><span>使用letsencrypt自动更新https证书</span></a></h1><p><strong>Let’s Encrypt</strong></p><p>为了在您的网站上启用 HTTPS，您需要从证书颁发机构（CA）获取证书（一种文件）。 Let’s Encrypt 正是其中一家证书颁发机构。</p><p><strong>CertbotACME客户端</strong></p><ul><li>建议大多数具有命令行访问权限的人使用</li><li>可以在不下线您的服务器的前提下自动执行证书颁发和安装。</li><li><a href="https://certbot.eff.org/" target="_blank" rel="noopener noreferrer">https://certbot.eff.org/</a></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"># remove certbot</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> apt-get</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> remove</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> certbot</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"># Install snapd</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> apt</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> update</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> apt</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> snapd</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"># Install Certbot using snapd</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> snap</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> --classic</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> certbot</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"># Prepare the Certbot command</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ln</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> -s</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> /snap/bin/certbot</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> /usr/bin/certbot</span></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-dark:#6A9955;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;"># Choose how you&#39;d like to run Certbot</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">sudo</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> certbot</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> --nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>坑1：可能默认证书的权限太高，需要改成640</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#4c4f69;--shiki-dark:#E6E6E6;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#222222;"><pre class="shiki shiki-themes catppuccin-latte slack-dark vp-code"><code><span class="line"><span style="--shiki-light:#D20F39;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">cd</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ../../archive/dingdingdang.online/privkey1.pem</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#DCDCAA;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">chmod</span><span style="--shiki-light:#FE640B;--shiki-dark:#B5CEA8;"> 640</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;"> ./</span><span style="--shiki-light:#4C4F69;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#40A02B;--shiki-dark:#CE9178;">.pem</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,8),l=[a];function h(r,p){return t(),s("div",null,l)}const d=i(n,[["render",h],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/%E5%90%8E%E7%AB%AF/%E4%BD%BF%E7%94%A8letsencrypt%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0https%E8%AF%81%E4%B9%A6/","title":"使用letsencrypt自动更新https证书","lang":"zh-CN","frontmatter":{"title":"使用letsencrypt自动更新https证书","date":"2024-04-10T15:03:00.000Z","article":false,"description":"使用letsencrypt自动更新https证书 Let’s Encrypt 为了在您的网站上启用 HTTPS，您需要从证书颁发机构（CA）获取证书（一种文件）。 Let’s Encrypt 正是其中一家证书颁发机构。 CertbotACME客户端 建议大多数具有命令行访问权限的人使用 可以在不下线您的服务器的前提下自动执行证书颁发和安装。 https...","head":[["meta",{"property":"og:url","content":"https://dingdingdang.online/%E5%90%8E%E7%AB%AF/%E4%BD%BF%E7%94%A8letsencrypt%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0https%E8%AF%81%E4%B9%A6/"}],["meta",{"property":"og:site_name","content":"YiguiDing的Blog小站"}],["meta",{"property":"og:title","content":"使用letsencrypt自动更新https证书"}],["meta",{"property":"og:description","content":"使用letsencrypt自动更新https证书 Let’s Encrypt 为了在您的网站上启用 HTTPS，您需要从证书颁发机构（CA）获取证书（一种文件）。 Let’s Encrypt 正是其中一家证书颁发机构。 CertbotACME客户端 建议大多数具有命令行访问权限的人使用 可以在不下线您的服务器的前提下自动执行证书颁发和安装。 https..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-21T16:20:46.000Z"}],["meta",{"property":"article:author","content":"丁毅桂"}],["meta",{"property":"article:published_time","content":"2024-04-10T15:03:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-21T16:20:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"使用letsencrypt自动更新https证书\\",\\"description\\":\\"使用letsencrypt自动更新https证书 Let’s Encrypt 为了在您的网站上启用 HTTPS，您需要从证书颁发机构（CA）获取证书（一种文件）。 Let’s Encrypt 正是其中一家证书颁发机构。 CertbotACME客户端 建议大多数具有命令行访问权限的人使用 可以在不下线您的服务器的前提下自动执行证书颁发和安装。 https...\\"}"],["meta",{"name":"baidu-site-verification","content":"codeva-PwE9Ts6nMl"}]]},"headers":[],"git":{"createdTime":1713716446000,"updatedTime":1713716446000,"contributors":[{"name":"YiguiDing","email":"2449695354@qq.com","commits":1}]},"readingTime":{"minutes":0.67,"words":200},"filePathRelative":"后端/使用letsencrypt自动更新https证书/index.md","localizedDate":"2024年4月10日","excerpt":"","autoDesc":true}');export{d as comp,c as data};
