package com.example.config;

import org.springframework.web.context.WebApplicationContext;
import org.springframework.web.context.support.AnnotationConfigWebApplicationContext;
import org.springframework.web.servlet.support.AbstractDispatcherServletInitializer;

// 定义Servlet容器启动配置类，在里面加载Spring的配置
public class ServeletContainerInitConfig extends AbstractDispatcherServletInitializer {

    @Override
    protected WebApplicationContext createServletApplicationContext() {
        // 固定写法，注意这里是WebApp容器
        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();
        ctx.register(SpringMvcConfig.class);// 注册其配置
        return ctx;
    }

    @Override
    protected String[] getServletMappings() {
        return new String[] { "/" };// 映射到根路径上
    }

    @Override
    protected WebApplicationContext createRootApplicationContext() {
        // 固定写法，注意这里是WebApp容器
        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();
        ctx.register(SpringConfig.class);// 注册Spring的容器
        return ctx;
    }
}
